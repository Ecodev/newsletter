<!DOCTYPE html>
<html>
    <head>
        <title>Newsletter Title</title>
    </head>
    <body>
        <!-- HTML comment will be ignored in plain text -->

        http://www.example.com this line should never be modified
        <a href="http://www.example.com">this link should be injected</a>
        <a href="http://###my_custom_field###">this custom link should be injected</a>
        <a href="http://www.example.com?param=###my_custom_field###">this link should be injected, and marker substituted</a>
        <a href="mailto:john@example.com">mailto link should still work</a>
        <a href="&#x6D;&#x61;&#x69;&#x6C;&#x74;&#x6F;&#x3A;&#x6A;&#x6F;&#x68;&#x6E;&#x40;&#x65;&#x78;&#x61;&#x6D;&#x70;&#x6C;&#x65;&#x2E;&#x63;&#x6F;&#x6D;">HTML entities encoded mailto link should still work</a>

        ###unknown_field_will_be_kept###
        ###newsletter_view_url###
        ###newsletter_unsubscribe_url###
        ###email###
        ###my_custom_field###

        http://unknown_field_will_be_kept
        http://newsletter_view_url
        http://newsletter_unsubscribe_url
        http://email
        http://my_custom_field

        https://unknown_field_will_be_kept
        https://newsletter_view_url
        https://newsletter_unsubscribe_url
        https://email
        https://my_custom_field

        boolean_false=###:IF: boolean_false ###true-ish###:ENDIF:###
        boolean_true=###:IF: boolean_true ###true-ish###:ENDIF:###
        integer_false=###:IF: integer_false ###true-ish###:ENDIF:###
        integer_true=###:IF: integer_true ###true-ish###:ENDIF:###
        string_false=###:IF: string_false ###true-ish###:ENDIF:###
        string_true=###:IF: string_true ###true-ish###:ENDIF:###

        boolean_false=###:IF: boolean_false ###true-ish###:ELSE:###false-ish###:ENDIF:###
        boolean_true=###:IF: boolean_true ###true-ish###:ELSE:###false-ish###:ENDIF:###
        integer_false=###:IF: integer_false ###true-ish###:ELSE:###false-ish###:ENDIF:###
        integer_true=###:IF: integer_true ###true-ish###:ELSE:###false-ish###:ENDIF:###
        string_false=###:IF: string_false ###true-ish###:ELSE:###false-ish###:ENDIF:###
        string_true=###:IF: string_true ###true-ish###:ELSE:###false-ish###:ENDIF:###

        UTF-8: können 한국어 ✓ € ☺ ☹

        <img src="http://example.com/typo3conf/ext/newsletter/Resources/Public/Icons/test-k%C3%B6nnen%20%ED%95%9C%EA%B5%AD%EC%96%B4%20%E2%9C%93%20%E2%82%AC%20%E2%98%BA%20%E2%98%B9.svg" alt="image"/>
    </body>
</html>
